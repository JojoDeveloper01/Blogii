---
import type { BlogData } from "@/lib/types";
import Breadcrumb from "@/components/Breadcrumb.astro";
import { getUserBlogsWithPosts } from "@/lib/utilsDB";
import ExtraTools from "@/components/Editing/ExtraTools.astro";
import Dashboard from "./Dashboard.astro";

type Props = BlogData & {
  blog: BlogData;
  editing: string;
  blogPosts: BlogData[];
  userId: string;
  lang: string;
};

const hideHeaderFooter = true;

const { title, description, userId, editing, blog, blogPosts, lang } =
  Astro.props;
---

<Dashboard>
  <div>
    <div class="flex items-center justify-end mb-3">
      <ExtraTools
        blogId={blog?.id}
        postId={blog?.posts?.[0].id ?? ""}
        {lang}
        isPreviewMode={Boolean(editing)}
        isAuthorized={Boolean(userId)}
        {blogPosts}
      />
    </div>
    <slot />
  </div>
</Dashboard>
