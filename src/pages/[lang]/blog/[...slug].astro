---
import { getCollection } from "astro:content";
import BlogPost from "@layouts/BlogPost.astro";
import { render } from "astro:content";

const { slug } = Astro.params;

const blogs = await getCollection("blog");

const blog = blogs.find((b) => b.id === slug);

//console.log("blog: ", blog);

if (!blog) {
	return Astro.redirect("/404");
}

const { Content } = await render(blog);
---

<BlogPost {...blog.data}>
	<Content />
</BlogPost>
